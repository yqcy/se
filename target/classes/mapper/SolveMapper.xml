<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "mybatis-3-mapper.dtd" >
<mapper namespace="com.yq.se.mapper.SolveMapper">

    <sql id="table_name">t_solve</sql>
    <sql id="fields">
        id,
        exception_id,
        user_id,
        solution,
        create_date,
        score,
        status
    </sql>
    <sql id="values">
        #{solve.id},
        #{solve.exception.id},
        #{solve.user.id},
        #{solve.solution},
        #{solve.createDate},
        #{solve.score},
        #{solve.status}
    </sql>
    <sql id="set">
        <set>
            <if test="solve.id!=null">id=#{solve.id},</if>
            <if test="solve.exceptionId!=null">exception_id=#{solve.exceptionId},</if>
            <if test="solve.userId!=null">user_id=#{solve.userId},</if>
            <if test="solve.solution!=null">solution=#{solve.solution},</if>
            <if test="solve.createDate!=null">create_date=#{solve.createDate},</if>
            <if test="solve.score!=null">score=#{solve.score},</if>
            <if test="solve.status!=null">status=#{solve.status}</if>
        </set>
    </sql>
    <resultMap id="solve_map" type="com.yq.se.entity.Solve">
        <id column="id" property="id"/>
        <result column="exception_id" property="exception.id"/>
        <result column="user_id" property="user.id"/>
        <result column="solution" property="solution"/>
        <result column="create_date" property="createDate"/>
        <result column="score" property="score"/>
        <result column="status" property="status"/>
    </resultMap>

    <insert id="add">
        insert into
        <include refid="table_name"/>
        values (<include refid="values"/>)
    </insert>
    <update id="modifyById">

    </update>
    <delete id="delete">
        delete from <include refid="table_name" />
        <where>
            <if test="solve.id!=null">id=#{solve.id}</if>
        </where>
    </delete>
    <select id="queryById" resultType="com.yq.se.entity.Solve">
        select
        <include refid="fields"/>
        from <include refid="table_name" />
        <where>
            <if test="id!=null">id=#{id}</if>
        </where>
    </select>
    <select id="queryAll" resultType="com.yq.se.entity.Solve">
        select <include refid="fields"/>
        from <include refid="table_name"/>
    </select>
</mapper>